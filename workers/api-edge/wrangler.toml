name = "blackroad-api-edge"
main = "worker.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]
account_id = "848cf0b18d51e0170e0d1537aec3505a"

[vars]
ENVIRONMENT    = "production"
# API_ORIGIN points to blackroad.systems (Cloudflare tunnel â†’ Pi :8788 FastAPI)
API_ORIGIN     = "https://blackroad.systems"
GATEWAY_ORIGIN = "https://gateway.blackroad.ai"

[[routes]]
pattern = "api.blackroad.ai/*"
zone_name = "blackroad.ai"

[[routes]]
pattern = "api.blackroad.io/*"
zone_name = "blackroad.io"

# Deploy:
#   npx wrangler deploy --config wrangler-configs/api-edge.toml
# Local dev:
#   npx wrangler dev --config wrangler-configs/api-edge.toml --port 8790
